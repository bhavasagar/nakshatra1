{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nakshatra</title>
    <style>
        h5 {
            display: inline-block;
            padding: 10px;
            background: #B9121B;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        
        .full-screen {
            background-size: cover ;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }        
    </style>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fondamento&display=swap" rel="stylesheet"> 
</head>
<body>
    {% include 'navbar.html' %}
    <div class="p-1">
    <style>
    #home{
    color:  darkorange !important;    
  }  
    </style>
        {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" style="float:right;width:max-content;z-index:50;" role="alert">
              {{ message }}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>        
            {% endfor %}
        {% endif %}
    </div>
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" style="margin-bottom:22%">  
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          {% for i in carousals %}
          <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter }}"></li>          
          {% endfor %}
        </ol>  
        <div class="carousel-inner">
          <div class="carousel-item">
            <img class="d-block w-100" src="{{ c.image.url }}" data-color="lightblue" alt="First Image">
            <div class="carousel-caption d-md-block">
              <a href="{{ c.urlfield }}"><h5>{{c.heading}}</h5></a>
            </div>
          </div>
          {% for ca in carousals %}          
            <div class="carousel-item">
              <img class="d-block w-100" src="{{ ca.image.url }}" data-color="lightblue" alt="First Image">
              <div class="carousel-caption d-md-block">
                <a href="{{ ca.urlfield }}"><h5>{{c.heading}}</h5></a>
              </div>
            </div>          
          {% endfor %}                  
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
      </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
      </a>
      </div>      
      {% include "scripts.html" %}
</body>
<script>
    var $item = $('.carousel-item'); 
    var $wHeight = $(window).height();
    $item.eq(0).addClass('active');
    $item.height($wHeight); 
    $item.addClass('full-screen');
    
    $('.carousel img').each(function() {
      var $src = $(this).attr('src');
      var $color = $(this).attr('data-color');
      $(this).parent().css({
        'background-image' : 'url(' + $src + ')',
        'background-color' : $color
      });
      $(this).remove();
    });
    
    $(window).on('resize', function (){
      $wHeight = $(window).height();
      $item.height($wHeight);
    });
    
    $('.carousel').carousel({
      interval: 6000,
      pause: "false"
    });
    </script>
</html>